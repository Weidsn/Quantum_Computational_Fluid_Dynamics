qfunc load_b(amplitudes: real[], output state: qbit[]) {
  prepare_amplitudes(amplitudes, 0.0, state);
}

qfunc hhl(rhs_vector: real[], precision: int, hamiltonian_evolution_with_power: qfunc (int, qbit[]), output state: qbit[], output phase: qnum, output indicator: qbit) {
  allocate(precision, UNSIGNED, precision, phase);
  load_b([
    (-0.007963915488128883),
    (-0.06948843832941512),
    (-0.04893862979740463),
    (-0.06979657136569484),
    (-0.007963915488128883),
    (-0.15943065388728958),
    (-0.1388808453552791),
    (-0.1597387869235693),
    (-0.3726195811348681),
    (-0.40235922654728284),
    (-0.6398283696824639),
    (-0.168984154127859),
    (-0.12002428897336118),
    (-0.07963915488128884),
    (-0.13887977504291393),
    (-0.3726195811348681)
  ], state);
  allocate(indicator);
  within {
    qpe_flexible(lambda(k) {
      hamiltonian_evolution_with_power(k, state);
    }, phase);
  } apply {
    indicator *= 0.7639320225002101 / ((((phase - (1 / (2 ** precision))) * 6.47213595499958) * ((2 ** precision) / ((2 ** precision) - 1))) + 0.7639320225002101);
  }
}

qfunc unitary_with_power_logic(pw: int, matrix: real[][], target: qbit[]) {
  power (pw) {
    unitary(matrix, target);
  }
}

qfunc main(output res: qnum, output phase: qnum, output indicator: qbit) {
  hhl([
    (-0.007963915488128883),
    (-0.06948843832941512),
    (-0.04893862979740463),
    (-0.06979657136569484),
    (-0.007963915488128883),
    (-0.15943065388728958),
    (-0.1388808453552791),
    (-0.1597387869235693),
    (-0.3726195811348681),
    (-0.40235922654728284),
    (-0.6398283696824639),
    (-0.168984154127859),
    (-0.12002428897336118),
    (-0.07963915488128884),
    (-0.13887977504291393),
    (-0.3726195811348681)
  ], 7, lambda(arg0, arg1) {
    unitary_with_power_logic(arg0, [
      [
        ((-0.36292411874646874) - 0.00890928704532183j),
        ((-0.010320477440553623) + 0.42040964233188055j),
        (0.21973114855814477 + 0.005394096931513962j),
        (0.0019133523961820276 - 0.07794133567628625j),
        ((-0.010320477440553756) + 0.4204096423318807j),
        (0.48700061041985915 + 0.011955193952013107j),
        (0.00624849726029225 - 0.25453555937139477j),
        ((-0.09028688742901403) - 0.0022164186808859465j),
        (0.21973114855814463 + 0.005394096931513946j),
        (0.006248497260292197 - 0.25453555937139477j),
        ((-0.13303546155445817) - 0.0032658372727868683j),
        ((-0.0011584325700416138) + 0.047189311273826445j),
        (0.0019133523961820122 - 0.07794133567628621j),
        ((-0.09028688742901399) - 0.0022164186808859374j),
        ((-0.0011584325700416116) + 0.047189311273826445j),
        (0.016738627975417877 + 0.00041091025279041914j)
      ],
      [
        ((-0.010320477440553677) + 0.42040964233188066j),
        ((-0.14319297018832391) - 0.0035151901138076444j),
        ((-0.008407125044371595) + 0.34246830665559447j),
        (0.21973114855814485 + 0.005394096931513928j),
        (0.4870006104198593 + 0.011955193952012985j),
        ((-0.004071980180261437) + 0.16587408296048578j),
        (0.3967137229908454 + 0.009738775271126932j),
        (0.0062484972602922725 - 0.2545355593713949j),
        (0.0062484972602922404 - 0.2545355593713949j),
        (0.08669568700368652 + 0.0021282596587270403j),
        (0.005090064690250655 - 0.20734624809756835j),
        ((-0.13303546155445814) - 0.0032658372727868193j),
        ((-0.09028688742901403) - 0.002216418680885945j),
        (0.0007549198261404134 - 0.03075202440245973j),
        ((-0.0735482594535961) - 0.0018055084280954937j),
        ((-0.0011584325700416042) + 0.04718931127382644j)
      ],
      [
        (0.21973114855814477 + 0.005394096931513966j),
        ((-0.008407125044371664) + 0.34246830665559436j),
        ((-0.14319297018832414) - 0.0035151901138076786j),
        ((-0.010320477440553527) + 0.4204096423318807j),
        (0.006248497260292199 - 0.2545355593713949j),
        (0.3967137229908454 + 0.00973877527112694j),
        ((-0.004071980180261296) + 0.16587408296048586j),
        (0.4870006104198593 + 0.011955193952013082j),
        ((-0.13303546155445814) - 0.0032658372727868167j),
        (0.0050900646902505495 - 0.20734624809756833j),
        (0.08669568700368659 + 0.002128259658727178j),
        (0.006248497260292219 - 0.2545355593713949j),
        ((-0.001158432570041611) + 0.047189311273826445j),
        ((-0.0735482594535961) - 0.0018055084280954893j),
        (0.0007549198261404124 - 0.030752024402459808j),
        ((-0.09028688742901403) - 0.002216418680885929j)
      ],
      [
        (0.0019133523961820224 - 0.07794133567628624j),
        (0.21973114855814477 + 0.005394096931513979j),
        ((-0.01032047744055358) + 0.42040964233188055j),
        ((-0.36292411874646857) - 0.008909287045321417j),
        ((-0.09028688742901401) - 0.0022164186808859157j),
        (0.006248497260292194 - 0.2545355593713948j),
        (0.48700061041985904 + 0.011955193952012881j),
        ((-0.010320477440554029) + 0.4204096423318807j),
        ((-0.0011584325700416049) + 0.047189311273826445j),
        ((-0.13303546155445817) - 0.0032658372727868133j),
        (0.0062484972602923124 - 0.25453555937139494j),
        (0.21973114855814477 + 0.005394096931514035j),
        (0.016738627975417877 + 0.00041091025279041974j),
        ((-0.0011584325700416) + 0.04718931127382646j),
        ((-0.09028688742901404) - 0.0022164186808859287j),
        (0.0019133523961820653 - 0.07794133567628625j)
      ],
      [
        ((-0.010320477440553644) + 0.42040964233188055j),
        (0.48700061041985915 + 0.011955193952012964j),
        (0.006248497260292242 - 0.25453555937139494j),
        ((-0.09028688742901404) - 0.0022164186808859344j),
        ((-0.14319297018832444) - 0.003515190113807616j),
        ((-0.004071980180261513) + 0.16587408296048592j),
        (0.08669568700368659 + 0.0021282596587271236j),
        (0.0007549198261404344 - 0.03075202440245977j),
        ((-0.008407125044371523) + 0.3424683066555946j),
        (0.3967137229908453 + 0.00973877527112681j),
        (0.005090064690250648 - 0.2073462480975684j),
        ((-0.07354825945359612) - 0.001805508428095495j),
        (0.21973114855814468 + 0.005394096931513889j),
        (0.0062484972602922205 - 0.2545355593713946j),
        ((-0.13303546155445817) - 0.0032658372727868085j),
        ((-0.0011584325700415982) + 0.04718931127382646j)
      ],
      [
        (0.4870006104198593 + 0.011955193952013004j),
        ((-0.004071980180261421) + 0.16587408296048575j),
        (0.39671372299084545 + 0.009738775271126944j),
        (0.006248497260292203 - 0.25453555937139494j),
        ((-0.004071980180261363) + 0.16587408296048597j),
        ((-0.05649728318463757) - 0.0013869304550807578j),
        ((-0.0033170603541209606) + 0.13512205855802617j),
        (0.08669568700368659 + 0.002128259658727182j),
        (0.39671372299084545 + 0.009738775271126938j),
        ((-0.0033170603541208075) + 0.13512205855802603j),
        (0.32316546353724934 + 0.007933266843031552j),
        (0.005090064690250579 - 0.20734624809756844j),
        (0.0062484972602922535 - 0.2545355593713947j),
        (0.08669568700368642 + 0.0021282596587271036j),
        (0.005090064690250562 - 0.2073462480975684j),
        ((-0.13303546155445822) - 0.0032658372727868046j)
      ],
      [
        (0.006248497260292194 - 0.2545355593713948j),
        (0.3967137229908454 + 0.009738775271126933j),
        ((-0.0040719801802612905) + 0.16587408296048584j),
        (0.4870006104198593 + 0.011955193952012931j),
        (0.08669568700368659 + 0.002128259658727028j),
        ((-0.003317060354120877) + 0.13512205855802606j),
        ((-0.05649728318463731) - 0.0013869304550804217j),
        ((-0.004071980180261619) + 0.16587408296048575j),
        (0.00509006469025058 - 0.2073462480975684j),
        (0.3231654635372492 + 0.007933266843031373j),
        ((-0.003317060354121125) + 0.13512205855802614j),
        (0.3967137229908454 + 0.009738775271127053j),
        ((-0.1330354615544582) - 0.0032658372727868376j),
        (0.005090064690250582 - 0.20734624809756833j),
        (0.08669568700368666 + 0.002128259658727112j),
        (0.006248497260292264 - 0.2545355593713949j)
      ],
      [
        ((-0.09028688742901401) - 0.0022164186808859257j),
        (0.006248497260292284 - 0.2545355593713948j),
        (0.48700061041985915 + 0.011955193952013101j),
        ((-0.010320477440553949) + 0.42040964233188055j),
        (0.0007549198261404097 - 0.03075202440245978j),
        (0.08669568700368656 + 0.0021282596587271444j),
        ((-0.004071980180261593) + 0.1658740829604857j),
        ((-0.14319297018832433) - 0.0035151901138083938j),
        ((-0.07354825945359612) - 0.001805508428095517j),
        (0.00509006469025066 - 0.20734624809756835j),
        (0.39671372299084556 + 0.009738775271127324j),
        ((-0.008407125044371924) + 0.3424683066555945j),
        ((-0.001158432570041623) + 0.047189311273826466j),
        ((-0.1330354615544582) - 0.003265837272786841j),
        (0.006248497260292301 - 0.25453555937139494j),
        (0.21973114855814477 + 0.005394096931514127j)
      ],
      [
        (0.2197311485581447 + 0.0053940969315139815j),
        (0.006248497260292226 - 0.2545355593713948j),
        ((-0.13303546155445817) - 0.0032658372727868146j),
        ((-0.0011584325700416049) + 0.04718931127382646j),
        ((-0.008407125044371678) + 0.34246830665559447j),
        (0.3967137229908454 + 0.00973877527112705j),
        (0.005090064690250579 - 0.20734624809756833j),
        ((-0.07354825945359612) - 0.0018055084280955132j),
        ((-0.14319297018832425) - 0.0035151901138077324j),
        ((-0.004071980180261116) + 0.16587408296048578j),
        (0.08669568700368656 + 0.0021282596587271258j),
        (0.0007549198261404002 - 0.03075202440245978j),
        ((-0.010320477440553637) + 0.4204096423318807j),
        (0.4870006104198593 + 0.011955193952012987j),
        (0.00624849726029221 - 0.2545355593713948j),
        ((-0.09028688742901401) - 0.002216418680885911j)
      ],
      [
        (0.006248497260292257 - 0.2545355593713948j),
        (0.08669568700368652 + 0.002128259658727081j),
        (0.005090064690250565 - 0.2073462480975684j),
        ((-0.1330354615544582) - 0.003265837272786809j),
        (0.39671372299084545 + 0.009738775271126945j),
        ((-0.0033170603541209306) + 0.13512205855802603j),
        (0.32316546353724923 + 0.00793326684303139j),
        (0.0050900646902506605 - 0.2073462480975684j),
        ((-0.004071980180261206) + 0.16587408296048592j),
        ((-0.05649728318463745) - 0.0013869304550801775j),
        ((-0.003317060354121022) + 0.13512205855802617j),
        (0.08669568700368657 + 0.0021282596587270716j),
        (0.4870006104198593 + 0.011955193952013023j),
        ((-0.004071980180261341) + 0.16587408296048564j),
        (0.3967137229908453 + 0.009738775271126935j),
        (0.006248497260292194 - 0.2545355593713948j)
      ],
      [
        ((-0.13303546155445814) - 0.003265837272786833j),
        (0.005090064690250604 - 0.20734624809756835j),
        (0.08669568700368659 + 0.0021282596587271245j),
        (0.006248497260292233 - 0.254535559371395j),
        (0.005090064690250625 - 0.2073462480975684j),
        (0.3231654635372493 + 0.007933266843031535j),
        ((-0.003317060354121064) + 0.13512205855802614j),
        (0.39671372299084556 + 0.009738775271127261j),
        (0.08669568700368663 + 0.0021282596587271735j),
        ((-0.003317060354121086) + 0.135122058558026j),
        ((-0.05649728318463772) - 0.0013869304550809293j),
        ((-0.004071980180261399) + 0.16587408296048584j),
        (0.006248497260292304 - 0.2545355593713949j),
        (0.3967137229908454 + 0.00973877527112704j),
        ((-0.004071980180261459) + 0.165874082960486j),
        (0.48700061041985937 + 0.011955193952012971j)
      ],
      [
        ((-0.0011584325700416042) + 0.047189311273826445j),
        ((-0.13303546155445814) - 0.0032658372727868237j),
        (0.006248497260292238 - 0.2545355593713949j),
        (0.2197311485581447 + 0.005394096931514042j),
        ((-0.07354825945359611) - 0.0018055084280955104j),
        (0.00509006469025063 - 0.2073462480975684j),
        (0.3967137229908453 + 0.00973877527112703j),
        ((-0.008407125044371983) + 0.34246830665559447j),
        (0.0007549198261404336 - 0.03075202440245978j),
        (0.08669568700368652 + 0.0021282596587271505j),
        ((-0.004071980180261519) + 0.16587408296048584j),
        ((-0.14319297018832366) - 0.0035151901138074978j),
        ((-0.090286887429014) - 0.0022164186808859574j),
        (0.0062484972602922535 - 0.2545355593713948j),
        (0.4870006104198593 + 0.011955193952013015j),
        ((-0.010320477440553791) + 0.4204096423318804j)
      ],
      [
        (0.0019133523961820259 - 0.07794133567628622j),
        ((-0.09028688742901399) - 0.0022164186808859305j),
        ((-0.001158432570041606) + 0.047189311273826445j),
        (0.016738627975417888 + 0.0004109102527904161j),
        (0.21973114855814477 + 0.0053940969315139625j),
        (0.006248497260292281 - 0.2545355593713948j),
        ((-0.1330354615544582) - 0.003265837272786825j),
        ((-0.0011584325700416127) + 0.04718931127382646j),
        ((-0.010320477440553595) + 0.4204096423318805j),
        (0.48700061041985915 + 0.011955193952012892j),
        (0.006248497260292275 - 0.2545355593713948j),
        ((-0.090286887429014) - 0.002216418680885901j),
        ((-0.3629241187464687) - 0.008909287045321783j),
        ((-0.01032047744055387) + 0.4204096423318807j),
        (0.21973114855814477 + 0.005394096931514009j),
        (0.0019133523961820313 - 0.07794133567628625j)
      ],
      [
        ((-0.09028688742901397) - 0.002216418680885959j),
        (0.0007549198261404288 - 0.03075202440245975j),
        ((-0.07354825945359611) - 0.001805508428095501j),
        ((-0.0011584325700416003) + 0.04718931127382646j),
        (0.006248497260292297 - 0.2545355593713949j),
        (0.08669568700368649 + 0.0021282596587271748j),
        (0.0050900646902506145 - 0.20734624809756835j),
        ((-0.13303546155445817) - 0.003265837272786849j),
        (0.4870006104198593 + 0.011955193952013051j),
        ((-0.004071980180261364) + 0.16587408296048572j),
        (0.39671372299084523 + 0.009738775271127119j),
        (0.00624849726029216 - 0.2545355593713948j),
        ((-0.010320477440553942) + 0.4204096423318807j),
        ((-0.14319297018832405) - 0.0035151901138078616j),
        ((-0.00840712504437169) + 0.34246830665559447j),
        (0.21973114855814477 + 0.005394096931513967j)
      ],
      [
        ((-0.0011584325700416084) + 0.04718931127382644j),
        ((-0.07354825945359611) - 0.0018055084280954987j),
        (0.0007549198261404134 - 0.03075202440245978j),
        ((-0.090286887429014) - 0.002216418680885914j),
        ((-0.13303546155445817) - 0.003265837272786821j),
        (0.005090064690250605 - 0.20734624809756835j),
        (0.08669568700368657 + 0.0021282596587271323j),
        (0.006248497260292299 - 0.2545355593713949j),
        (0.006248497260292208 - 0.2545355593713948j),
        (0.3967137229908451 + 0.009738775271126933j),
        ((-0.004071980180261518) + 0.1658740829604859j),
        (0.4870006104198592 + 0.011955193952012813j),
        (0.21973114855814477 + 0.005394096931514028j),
        ((-0.008407125044371603) + 0.34246830665559436j),
        ((-0.143192970188324) - 0.0035151901138076435j),
        ((-0.01032047744055364) + 0.42040964233188055j)
      ],
      [
        (0.016738627975417884 + 0.0004109102527904184j),
        ((-0.001158432570041606) + 0.047189311273826445j),
        ((-0.09028688742901401) - 0.0022164186808859222j),
        (0.001913352396182054 - 0.07794133567628622j),
        ((-0.001158432570041611) + 0.04718931127382646j),
        ((-0.1330354615544582) - 0.003265837272786839j),
        (0.006248497260292234 - 0.2545355593713948j),
        (0.21973114855814477 + 0.005394096931514125j),
        ((-0.090286887429014) - 0.002216418680885926j),
        (0.00624849726029225 - 0.25453555937139477j),
        (0.4870006104198593 + 0.011955193952013096j),
        ((-0.010320477440553703) + 0.4204096423318802j),
        (0.001913352396182075 - 0.07794133567628622j),
        (0.21973114855814468 + 0.005394096931514023j),
        ((-0.010320477440553777) + 0.4204096423318805j),
        ((-0.36292411874646857) - 0.008909287045321778j)
      ]
    ], arg1);
  }, res, phase, indicator);
}
